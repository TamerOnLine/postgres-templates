
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>🛠️ Project Control Dashboard</title>
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">

  <script defer src="/static/script.js"></script>
  <link rel="stylesheet" href="/static/styles/reset.css">
  <link rel="stylesheet" href="/static/styles/base.css">
  <link rel="stylesheet" href="/static/styles/table.css">
  <link rel="stylesheet" href="/static/styles/main.css">
</head>
<body>
  <h1>🛠️ Project Control Dashboard (Portable)</h1>

  <h2>➕ Add New Project</h2>
  <form id="add-form" onsubmit="addProject(event)">
    <input type="text" id="name" placeholder="Name" required>
    <select id="type" required>
      <option value="">-- Select Type --</option>
      <option value="flask">Flask</option>
      <option value="python">Python</option>
      <option value="node">Node.js</option>
      <option value="custom">Custom</option>
      <option value="html-server">HTML Server</option>
    </select>
    <input type="text" id="path" placeholder="./folder-name" style="width: 250px;" required />
    <button type="button" onclick="triggerFolderSelection()">📂</button>
    <input type="file" id="folder-picker" style="display:none;" webkitdirectory directory onchange="fillFolderPath(event)" />
    <input type="text" id="entry" placeholder="Entry file (e.g. main.py)" required>
    <input type="number" id="port" placeholder="Port" required>
    <button type="submit">➕ Add</button>
  </form>

  <div id="project-info">
    <div id="project-list" class="project-table"></div>
  </div>



<script>
  function triggerFolderSelection(inputId = "path", pickerId = "folder-picker") {
    document.getElementById(pickerId).click();
  }

  function fillFolderPath(event, targetInputId = "path") {
    const files = event.target.files;
    if (files.length > 0) {
      const fullPath = files[0].webkitRelativePath;
      const folderPath = fullPath.split("/")[0];
      const relativePath = "../templates/" + folderPath;
      document.getElementById(targetInputId).value = relativePath;
    }
  }
</script>


</body>
</html>
